sap.ui.define(["sap/m/MessageToast"],function(e){"use strict";return{onCalCashFlowOrg:function(e){debugger;var t=new sap.ui.layout.form.SimpleForm({editable:false,layout:"ResponsiveGridLayout",content:[new sap.m.Label({text:"Name"}),new sap.m.Text({text:"John Doe"}),new sap.m.Label({text:"Email"}),new sap.m.Text({text:"john.doe@example.com"}),new sap.m.Label({text:"Phone"}),new sap.m.Text({text:"+1 123 456 7890"}),new sap.m.Label({text:"Department"}),new sap.m.Text({text:"IT"})]});var n=new sap.m.Table({headerText:"Products",columns:[new sap.m.Column({header:new sap.m.Label({text:"Product ID"})}),new sap.m.Column({header:new sap.m.Label({text:"Supplier"})}),new sap.m.Column({header:new sap.m.Label({text:"Category"})}),new sap.m.Column({header:new sap.m.Label({text:"Price"})})],items:[new sap.m.ColumnListItem({cells:[new sap.m.Text({text:"P001"}),new sap.m.Text({text:"Supplier A"}),new sap.m.Text({text:"Cat 1"}),new sap.m.Text({text:"100"})]}),new sap.m.ColumnListItem({cells:[new sap.m.Text({text:"P002"}),new sap.m.Text({text:"Supplier B"}),new sap.m.Text({text:"Cat 2"}),new sap.m.Text({text:"200"})]}),new sap.m.ColumnListItem({cells:[new sap.m.Text({text:"P003"}),new sap.m.Text({text:"Supplier C"}),new sap.m.Text({text:"Cat 3"}),new sap.m.Text({text:"300"})]})]});var a=new sap.uxap.ObjectPageLayout({height:"100%",sections:[new sap.uxap.ObjectPageSection({title:"Form Section",subSections:[new sap.uxap.ObjectPageSubSection({blocks:[t]})]}),new sap.uxap.ObjectPageSection({title:"Table Section",subSections:[new sap.uxap.ObjectPageSubSection({blocks:[n]})]})]});var o=new sap.m.ScrollContainer({height:"40vh",vertical:true,horizontal:false,content:[a]});var g=new sap.m.Dialog({title:"ObjectPage in Dialog",contentHeight:"600px",content:[a],beginButton:new sap.m.Button({text:"Close",press:function(){g.close()}}),afterClose:function(){g.destroy()}});g.open()},onCalCashFlow:async function(e){debugger;try{let e=this._view.getContent()[0].getSections()[2].getSubSections()[3].mAggregations._grid.mAggregations.content[0].mAggregations.content.mAggregations.content.mAggregations._content.mAggregations.rows[0].getBindingContext().getObject().effectiveFrom;let t=this._view.getContent()[0].getSections()[2].getSubSections()[3].mAggregations._grid.mAggregations.content[0].mAggregations.content.mAggregations.content.mAggregations._content.mAggregations.rows[0].getBindingContext().getObject().percentage;let n=this._view.getContent()[0].getSections()[2].getSubSections()[3].mAggregations._grid.mAggregations.content[0].mAggregations.content.mAggregations.content.mAggregations._content.mAggregations.rows[0].getBindingContext().getObject().dueDate;let a=this._view.getContent()[0].getSections()[2].getSubSections()[3].mAggregations._grid.mAggregations.content[0].mAggregations.content.mAggregations.content.mAggregations._content.mAggregations.rows[0].getBindingContext().getObject().calculationDate;let o=this._view.getContent()[0].getSections()[2].getSubSections()[3].mAggregations._grid.mAggregations.content[0].mAggregations.content.mAggregations.content.mAggregations._content.mAggregations.rows[2].getBindingContext().getObject().conditionAmt;let g=this._view.getContent()[0].getSections()[2].getSubSections()[3].mAggregations._grid.mAggregations.content[0].mAggregations.content.mAggregations.content.mAggregations._content.mAggregations.rows[3].getBindingContext().getObject().effectiveFrom;let i=this._view.getContent()[0].getBindingContext().getObject();if(!i.commitCapital||!i.fixedFrom||!i.fixedUntil||!e||!i.ID||!i.intCalMt||!g){sap.m.MessageBox.error("All mandatory fields must be filled before calculating cash flow.");return}let s=this._view.getModel().bindContext("/loadAmortizationFunc(...)");s.setParameter("principal",String(i.commitCapital));s.setParameter("annualRate","0.04");s.setParameter("startDate",String(i.fixedFrom));s.setParameter("endDate",String(i.fixedUntil));s.setParameter("interestFixedDate",e);s.setParameter("inclusiveIndicator",String(i.include));s.setParameter("contractId",String(i.ID));s.setParameter("intCalMt",String(i.intCalMt));s.setParameter("dueDate",n);s.setParameter("percentage",t);s.setParameter("calculationDate",a);s.setParameter("conditionAmt",o);s.setParameter("efffectiveDatefinalRepayment",g);await s.execute();if(this.oDialog){this.oDialog.destroy();this.oDialog=null}this.oDialog=await this.loadFragment({name:"cashflowcontractinitial.ext.fragment.DialogOb"});this.oDialog.open()}catch(e){console.log(e)}},onDialogAfterOpen:function(e){debugger;var t=e.getSource().getContent()[0].getSections()[1].getSubSections()[0].getBlocks()[0];var n=t.getBinding("rows");if(n){var a=new sap.ui.model.Sorter("index",false);n.sort(a)}t.getModel().refresh(true)},onClosePress:function(e){debugger;let t=e.getSource().getParent();t.close()}}});
//# sourceMappingURL=CalCashFLow.js.map